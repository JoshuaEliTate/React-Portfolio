"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37654],{39985:function(e,t,r){r.d(t,{Q_:function(){return s},g0:function(){return a}});const s={FAILED:"FAILED",PENDING:"PENDING",DONE:"DONE"},a={UPLOADING:"UPLOADING",TRANSCODING:"TRANSCODING"}},67485:function(e,t,r){r.d(t,{F:function(){return n}});var s=r(29901),a=r(95993);const n=()=>{const{upload:e,uploads:t,clearUpload:r,clearUploads:n}=(0,s.useContext)(a.Dy),o=(0,s.useMemo)((()=>t.map((e=>{const{id:t,file:r,fileId:s,status:a,progress:n,name:o,step:i,fileData:l,result:u,transcodingUrl:d,params:c}=e,{thumbnail:p}=l||{};return{id:s,file:r,uploadId:t,typeName:o,status:a,progress:n,transcodingUrl:d,step:i,result:u,thumbnail:p,params:c}}))),[t]);return{upload:e,uploads:o,clearUpload:r,clearUploads:n}}},95993:function(e,t,r){r.d(t,{C6:function(){return n},Dy:function(){return l},E3:function(){return i},Vu:function(){return a},g6:function(){return o}});var s=r(29901);const a={COMPLETE:"complete",ERROR:"error",IN_PROGRESS:"in_progress"},n={BRANDING_BUMPERS:"branding-bumpers",BRANDING_LOGO:"branding-logo",AUDIO_TRACKS:"audio-tracks"},o={LOGO:"logo",BUMPER_INTRO:"bumper-intro",BUMPER_OUTRO:"bumper-outro",AUDIO_TRACKS:"audio-tracks"},i={files:[],upload:()=>{},uploads:[],clearUpload:()=>{},clearUploads:()=>{}},l=s.createContext(i)},37654:function(e,t,r){r.r(t),r.d(t,{AUDIO_TRACKS_UPLOAD_STATUS:function(){return U.Vu},ArtifactsUploaderUI:function(){return q},STATUS:function(){return O.Q_},UPLOAD_TYPE_NAME:function(){return U.g6},default:function(){return X},useArtifactsUploader:function(){return H.F}});var s=r(7406),a=r(29901),n=r(51340),o=r(36867),i=r.n(o),l=r(8262);const u=e=>{const{0:t,1:r}=(0,a.useState)("");return{isActive:-1!==e.uploads.findIndex((e=>e.id===t)),setUploadId:r}},d=e=>{const t=(0,a.useRef)(!0),{isActive:r,setUploadId:s}=u(e),n=(0,a.useRef)(r);n.current=r;const o=async e=>{let{uploadTypes:r,onUploadProgress:s}=e;const a=async e=>{let{chunk:r}=e;const a=r?.file,o={headers:{"Content-Type":r?.file?.type,"Content-Length":r?.file?.size},onUploadProgress:e=>{n.current&&(e=>{if(!t.current||!n.current)return null;s&&s(e.loaded/e.total*100)})(e)}};return t.current&&n.current?(0,l.uo)((await i().put(r.url,a,o)).data):null};try{const e=[];if(r.forEach((async t=>{if(n.current){const r=a({chunk:t});e.push(r)}})),!n.current)return null;const t=await Promise.all(e);return n.current?t[t.length-1]:null}catch(o){const e="Failed uploading chunk to presigned url";throw window.newrelic?.noticeError(o,{extraInfo:e}),new Error(e)}};return(0,a.useEffect)((()=>()=>{t.current=!1}),[]),{uploadChunks:async e=>{let{uploadTypes:t,id:r,onUploadProgress:a}=e;return s(r),await o({uploadTypes:t,onUploadProgress:a})}}};class c extends Error{constructor(e){super(e),this.name="VideoNotValidError"}}const p=()=>{const e=(0,a.useRef)(!0);return(0,a.useEffect)((()=>()=>{e.current=!1}),[]),{getFileData:t=>new Promise(((r,s)=>{if(!e.current)return null;const a=t.type.split("/")[0],n=new FileReader;n.readAsDataURL(t),n.onload=function(){if(!e.current)return null;if(a.includes("image")||a.includes("photo")){const a=n.result;return(t=>{let{file:r,url:s,resolve:a,reject:n}=t;const o=new Image,i=()=>(o.removeEventListener("error",l),o.removeEventListener("load",i),e.current?a({width:o.width,height:o.height,size:r.size,name:r.name,thumbnail:s}):null),l=()=>(o.removeEventListener("error",l),o.removeEventListener("load",i),e.current?n():null);o.onload=i,o.onerror=l,o.src=s})({file:t,url:a,resolve:r,reject:s})}return(async e=>{let{file:t,resolve:r,reject:s}=e;const a=await(e=>new Promise((t=>{const r=document.createElement("canvas"),a=document.createElement("video");a.autoplay=!0,a.muted=!0;const n=URL.createObjectURL(e);a.src=n,a.onloadeddata=()=>{let o=r.getContext("2d");if(r.width=a.videoWidth,r.height=a.videoHeight,a.pause(),URL.revokeObjectURL(n),!a.duration)return s(new c("video is not vaild"));o.drawImage(a,0,0,r.width,r.height);const i=r.toDataURL("image/jpeg",1);return t({width:r.width,height:r.height,size:e.size,name:e.name,duration:a.duration,thumbnail:i})}})))(t);return r(a)})({file:t,resolve:r,reject:s})},n.onerror=function(t){return e.current?s(t):null}}))}};var m=r(48329);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const h=()=>{const{authorize:e}={authorize:async(e,t,r,s)=>{const a=new FormData;a.append("method","VIMEO"),a.append("token",e),a.append("settings","1"),r&&a.append("teamToken",r),s&&a.append("partnerApp",s);const n=await fetch(`//${t}/api/auth`,{body:a,method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}});if(n.ok){const e=n.headers.get("vmosessionid");if(!e)throw new Error("`vmosessionid` header not found in response.");return n.json().then((t=>({sessionId:e,response:(0,l.uo)(t)})))}throw n}},{getAccessToken:t}={getAccessToken:(e,t,r,s)=>fetch("/_next/access_token",{body:JSON.stringify({scopes:r,app_id:e,token:t,get_magisto_team_token:s}),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-type":"application/json"}}).then((e=>{if(e.ok)return e.json().then((e=>{const{access_token:t,magisto_team_token:r}=e;return(0,l.uo)(f(f({},t),{},{magisto_team_token:r}))}));throw e}))};return{getMagistoSessionId:async r=>{let{teamUser:s,xsrft:a,magistoApiHost:n}=r;try{const r=s&&s.plainTextPermissionLevel!==m.tE.Viewer&&s.plainTextPermissionLevel!==m.tE.Uploader,o=await t(154809,a,["public","private","create","edit","upload"],r),{sessionId:i}=await e(o.token,n,o.magistoTeamToken);return i}catch(o){const e="Failed getting magisto session id";throw window.newrelic?.noticeError(o,{extraInfo:e}),o}}}};var O=r(39985),U=r(95993);const y=e=>{const t=(0,a.useMemo)((()=>new AbortController),[]),{isActive:r,setUploadId:s}=u(e),n=(0,a.useRef)(r);n.current=r;const o=async e=>{let{service:r}=e;if(!n.current)return null;try{return n.current?await(async()=>{if(!n.current)return null;const{magistoSessionId:e,jwt:s,url:a,params:o}=r,u={headers:{Authorization:s?`jwt ${s}`:`${e}`,"Content-Type":"application/json"},signal:t.signal};return n.current?(e&&(u.headers["X-Requested-With"]="XMLHttpRequest"),(0,l.uo)((await i().post(a,JSON.stringify(o),u)).data)):null})():null}catch(s){const e="Failed getting pre-signed upload urls";throw window.newrelic?.noticeError(s,{extraInfo:e}),new Error(e)}};return(0,a.useEffect)((()=>()=>{t.abort()}),[t]),{getUploadUrls:async e=>{let{service:r,id:a}=e;return t.signal.aborted?null:(s(a),await o({service:r}))}}},b={url:"videos/<clipid>/versions/<versionid>/audiotracks",serviceName:U.C6.AUDIO_TRACKS,isVimeoApi:!0,transcodingUrl:"videos/<clipid>/versions/<versionid>/audiotracks/<id>",name:U.g6.AUDIO_TRACKS,file:null,params:{language_code:"",type:""}},w={url:"api/services/branding/start",serviceName:U.C6.BRANDING_BUMPERS,shouldParseFile:!0,isMagistoApi:!0,transcodingUrl:"api/services/branding/bumper",payloadStructure:null,name:U.g6.BUMPER_INTRO,file:null,params:{filename:"",upload_product:"bumper",asset_location:"VIMEO",metadata:{context:"INTRO",asset_meta:{width:0,height:0,size:0,duration:0}}}},P={url:"api/services/branding/start",serviceName:U.C6.BRANDING_BUMPERS,shouldParseFile:!0,isMagistoApi:!0,transcodingUrl:"api/services/branding/bumper",payloadStructure:null,name:U.g6.BUMPER_OUTRO,file:null,params:{filename:"",upload_product:"bumper",asset_location:"VIMEO",metadata:{context:"OUTRO",asset_meta:{width:0,height:0,size:0,duration:0}}}},v={url:"api/services/branding/start",serviceName:U.C6.BRANDING_LOGO,shouldParseFile:!0,isMagistoApi:!0,transcodingUrl:"api/services/branding/logo",payloadStructure:null,name:U.g6.LOGO,file:null,params:{filename:"",upload_product:"logo",asset_location:"VIMEO",metadata:{asset_meta:{width:0,height:0,size:0}}}};function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const _="INIT_UPLOADS",A="SET_UPLOAD_CHUNKS",N="SET_UPLOAD_PROGRESS",I="SET_UPLOAD_COMPLETED",R="SET_UPLOAD_ERROR",D="CLEAR_UPLOAD",S="CLEAR_UPLOADS",T="SET_TRANSCODING_STEP",C="SET_TRANSCODING_COMPLETED";function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const x=(e,t)=>{const r=t?.payload;switch(t.type){case _:return k(k({},e),{},{uploads:[...r?.uploaderFiles,...e.uploads]});case A:return k(k({},e),{},{uploads:[...e.uploads].map((e=>(e.id===r?.id&&(e.storageObjectId=r?.storageObjectId,e.types=r?.types),e)))});case N:return k(k({},e),{},{uploads:[...e.uploads].map((e=>(e.id===r?.id&&(e.progress=r?.progress),e)))});case I:return k(k({},e),{},{uploads:[...e.uploads].map((e=>(e.id===r?.id&&(e.status=r?.status,e.transcodingUrl=r?.transcodingUrl),e)))});case R:return k(k({},e),{},{uploads:[...e.uploads].map((e=>(e.id===r?.id&&(e.status=r?.status),e)))});case T:return k(k({},e),{},{uploads:[...e.uploads].map((e=>(e.id===r?.id&&(e.step=O.g0.TRANSCODING),e)))});case C:return k(k({},e),{},{uploads:[...e.uploads].map((e=>(e.id===r?.id&&(e.status=r?.status,e.result=r?.result,e.transcodingUrl=r?.transcodingUrl),e)))});case S:return k(k({},e),{},{uploads:[...e.uploads].filter((e=>e.id!==r?.id))});case D:return k(k({},e),{},{uploads:[]});default:return e}};var M=r(61250);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=r(72235),z=r(35753),V=r(57887),$=r(84476),Q=r(17582),H=r(67485);const K=e=>{let{onChange:t,uploadType:r,params:s}=e;const{upload:a}=(0,H.F)();return(0,M.jsx)(M.Fragment,{children:(0,M.jsx)("input",{type:"file","data-testid":"upload-input",onChange:e=>{const n=e.target.files,o=[...n].map((e=>{const t={fileId:`${Math.random()}`,file:e};return r===U.g6.AUDIO_TRACKS&&(t.params={language_code:"en",type:"main"}),t}));t&&t({files:n}),a({uploadedFiles:o,typeName:r,params:s})},multiple:!0})})};function q(e){let{showNotice:t,onChange:r,uploadTypeName:s,params:a}=e;const{clearUpload:n,clearUploads:o,uploads:i}=(0,H.F)();return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(K,{onChange:r,uploadType:s,params:a}),t&&(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)(z.q,{"data-testid":"upload-notice",format:"primary",children:[(0,M.jsxs)(Q.n,{size:"2",format:"alternative",children:["chosen ",i.length," file/s to upload"]}),(0,M.jsx)(V.z,{"data-testid":"clear-all-uploads-button",onClick:()=>{o()},children:"Clear All Uploads"}),(0,M.jsx)("section",{"data-testid":"uploads-data-section",children:i.map((e=>(0,M.jsxs)($.Z,{title:e.file.name,style:{display:"flex",margin:"20px 0"},children:[e?.thumbnail&&(0,M.jsx)("img",{src:e.thumbnail,alt:"thumbnail",style:{width:"200px",padding:"10px"}}),(0,M.jsxs)("ul",{style:{marginTop:10,fontWeight:"bold",color:(0,B.iN)(100)},children:[(0,M.jsxs)("li",{className:"upload-id",children:["Upload ID: ",e.uploadId]}),(0,M.jsxs)("li",{className:"upload-progress",children:["Upload Progress: ",e.progress]}),(0,M.jsxs)("li",{className:"upload-status",children:["Upload Status: ",e.status]}),(0,M.jsxs)("li",{className:"step",children:["Step: ",e.step]}),(0,M.jsxs)("li",{className:"file-name",children:["File Name: ",e.file.name]}),(0,M.jsxs)("li",{className:"upload-file-id",children:["Upload File ID (fileId from client HOST): ",e.id]})," ",(e.typeName===U.g6.BUMPER_INTRO||e.typeName===U.g6.BUMPER_OUTRO)&&(0,M.jsxs)("li",{className:"branding-bumpers-upload-result-status",children:["Branding Bumpers Upload Result Status:"," ",e?.result?.bumpers?.jobStatus]}),e.typeName===U.g6.LOGO&&(0,M.jsxs)("li",{className:"branding-logo-upload-result-status",children:["Branding Logo Upload Result Status:"," ",e?.result?.logo?.jobStatus]}),e.typeName===U.g6.AUDIO_TRACKS&&(0,M.jsxs)("li",{className:"audio-tracks-upload-result-status",children:["Audio Tracks Upload Result Status:"," ",e?.result?.upload?.status]})]},`ul_${e.uploadId}`),(0,M.jsx)(V.z,{"data-testid":"clear-upload-button",onClick:()=>{return t=e.uploadId||"",void n({id:t});var t},children:"Clear Upload"})]},`card_${e.uploadId}`)))})]})})]})}var X=e=>{let{children:t,teamUser:r,xsrft:s,magistoApiHost:o,apiUrl:i="",jwt:c}=e;const m=(0,a.useRef)(!0),{0:g,1:f}=(0,a.useReducer)(x,U.E3),{getUploadUrls:j}=y(g),{uploadChunks:L}=d(g),{getMagistoSessionId:k}=h(),{getFileData:F}=p(),{pollTranscodingStatus:B}=(e=>{const t=(0,a.useRef)(!0),{isActive:r,setUploadId:s}=u(e),n=(0,a.useRef)(r);return n.current=r,(0,a.useEffect)((()=>()=>{t.current=!1}),[]),{pollTranscodingStatus:async e=>{let{transcodingUrl:r,jwt:a,serviceName:o,id:i,onTranscodingCompletion:u}=e;if(!t.current)return null;s(i);const d=async e=>{let{url:s,jwt:a,timeout:i=250}=e;if(!t.current||!n.current)return null;const c={"X-Requested-With":"XMLHttpRequest"};a&&(c.Authorization=`jwt ${a}`);const p=await fetch(s,{method:"GET",headers:c});if(!t.current||!n.current)return null;if(!p.ok)throw new Error("Error polling asset status");{const e=(0,l.uo)(await p.json());let s=O.Q_.PENDING;if(o===U.C6.BRANDING_BUMPERS)s=e.bumpers.jobStatus;else if(o===U.C6.BRANDING_LOGO)s=e.logo.jobStatus;else if(o===U.C6.AUDIO_TRACKS){const t=e.upload?.status;s=t===U.Vu.COMPLETE?O.Q_.DONE:t===U.Vu.ERROR?O.Q_.FAILED:O.Q_.PENDING}if(s===O.Q_.DONE)return t.current&&n.current?void u({transcodingStatus:O.Q_.DONE,result:e}):null;setTimeout((async()=>{await d({url:r,jwt:a,timeout:2*i})}),i)}};if(!t.current||!n.current)return null;await d({url:r,jwt:a})}}})(g),{actions:z}=(e=>({actions:{setUploadChunks:t=>{let{id:r,fileId:s,types:a,storageObjectId:n}=t;e({type:A,payload:{id:r,fileId:s,types:a,storageObjectId:n}})},setUploads:t=>{let{uploaderFiles:r}=t;e({type:_,payload:{uploaderFiles:r}})},setUploadProgress:t=>{let{id:r,progress:s}=t;e({type:N,payload:{id:r,progress:s}})},setUploadCompleted:t=>{let{id:r,status:s,transcodingUrl:a}=t;e({type:I,payload:{id:r,status:s,transcodingUrl:a}})},setUploadError:t=>{let{id:r,status:s}=t;e({type:R,payload:{id:r,status:s}})},setTranscodingStep:t=>{let{id:r}=t;e({type:T,payload:{id:r}})},setTranscodingCompleted:t=>{let{id:r,status:s,result:a,transcodingUrl:n}=t;e({type:C,payload:{id:r,status:s,result:a,transcodingUrl:n}})},clearUpload:t=>{let{id:r}=t;e({type:S,payload:{id:r}})},clearUploads:()=>{e({type:D})}}}))(f),{setUploadChunks:V,setUploads:$,setUploadProgress:Q,setUploadCompleted:H,setUploadError:K,setTranscodingStep:q,setTranscodingCompleted:X,clearUpload:Z,clearUploads:W}=z,J={files:g.files,uploads:g.uploads,upload:async e=>{let{uploadedFiles:t,typeName:a,params:l={}}=e;const{versionUri:u}=l,d=(e=>{let t,{typeName:r,vimeoApi:s,magistoApi:a,serviceUrl:n}=e;switch(r){case U.g6.BUMPER_INTRO:t=E({},w);break;case U.g6.BUMPER_OUTRO:t=E({},P);break;case U.g6.LOGO:t=E({},v);break;case U.g6.AUDIO_TRACKS:t=E({},b),t.url=n?`${n}/audiotracks`:t.url,t.transcodingUrl=n?`${n}/audiotracks`:t.transcodingUrl;break;default:t=null}if(t&&t.url){const e=t.isVimeoApi?s:a;t.url=`https://${e}/${t.url}`}return t})({typeName:a,vimeoApi:i,magistoApi:o,serviceUrl:u??""});if(!d)throw new Error("Upload Type is not recognized");const p=async e=>{let{type:t,id:r,file:s,teamUser:a,xsrft:n,magistoApiHost:o,jwt:i,fileId:l,fileName:u,size:d=0,width:c=0,height:p=0,duration:g,params:f}=e;try{const e=t.serviceName===U.C6.BRANDING_BUMPERS||t.serviceName===U.C6.BRANDING_LOGO,h=t.serviceName===U.C6.AUDIO_TRACKS;let y,b="";if(e){b=await k({teamUser:a,xsrft:n,magistoApiHost:o});const e=t.params;y=G(G({},e),{},{filename:`${u}`,metadata:G(G({},e?.metadata),{},{asset_meta:{size:d,width:c,height:p,duration:g}})})}else{const{language_code:e,type:t}=f;y={language_code:e,type:t}}const w={url:`${t.url}`,magistoSessionId:t.isMagistoApi?b:"",jwt:t.isVimeoApi?i:"",params:y},P=await j({service:w,id:r});if(!P)return;let v="",E=[];if(e){const e=P?.gcs?.upload?.gcs;v=P.gcs?.storageObjectId,E=e.map((e=>{const{uploadLink:t,metadata:a}=e,n=a?.connections?.uploadAttempt;return{url:t,uploadAttempt:n,file:s,uploadId:r}}))}else if(h){const e=P?.upload?.uploadLink;v=P?.upload?.uploadId;E=[{url:e,file:s,uploadId:r}]}V({id:r,fileId:l,types:E,storageObjectId:v});if(!(await L({uploadTypes:E,id:r,onUploadProgress:e=>{Q({id:r,progress:e})}})))return;let _,A=t.transcodingUrl??"";if(e?A=`https://${o}/${t.transcodingUrl}/${v}`:h&&(_=i),!m.current)return null;t.transcodingUrl?(q({id:r}),B({transcodingUrl:A,serviceName:t.serviceName,jwt:_,id:r,onTranscodingCompletion:e=>{let{transcodingStatus:t,result:s}=e;X({id:r,status:t,result:s,transcodingUrl:A})}})):H({id:r,status:O.Q_.DONE,transcodingUrl:A})}catch(h){K({id:r,status:O.Q_.FAILED}),window.newrelic?.noticeError(h,{text:"Artifacts Uploading error",id:r,type:t||"",xsrft:n,magistoApiHost:o,jwt:i||"",fileId:l||"",fileName:u||"",size:d||"",width:c||"",height:p||"",duration:g||"",component:"ArtifactsUploader"})}},g=await Promise.all(t.map((async e=>{const t=(0,n.Z)(),{file:r,id:s,params:a}=e;let o=O.Q_.PENDING,i={width:0,height:0,name:r.name,size:0,duration:0,thumbnail:""};if(d.shouldParseFile)try{const e=await F(r);i=G(G({},i),e)}catch(l){o=O.Q_.FAILED}return{id:t,fileId:s,file:r,name:d.name,progress:0,step:O.g0.UPLOADING,status:o,fileData:i,params:a}})));$({uploaderFiles:g});for(const n of g){const{id:e,file:t,fileId:a,fileData:i,params:l,status:u}=n,{size:m,width:g,height:f,duration:h,name:U}=i;u!==O.Q_.FAILED&&await p({type:d,id:e,fileId:a,file:t,teamUser:r,xsrft:s,jwt:c,magistoApiHost:o,fileName:U,size:m,width:g,height:f,duration:h,params:l})}},clearUpload:Z,clearUploads:W};return(0,a.useEffect)((()=>()=>{m.current=!1}),[]),(0,M.jsx)(U.Dy.Provider,{value:J,children:t})}},48329:function(e,t,r){let s,a,n;r.d(t,{Qm:function(){return s},gZ:function(){return a},tE:function(){return n}}),function(e){e.Advanced="advanced",e.Basic="basic",e.Business="business",e.Enterprise="enterprise",e.Free="free",e.LiveBusiness="live_business",e.LivePremium="live_premium",e.LivePro="live_pro",e.Plus="plus",e.Pro="pro",e.ProUnlimited="pro_unlimited",e.Standard="standard",e.Starter="starter"}(s||(s={})),function(e){e.Alum="alum",e.Business="business",e.Curation="curation",e.LiveBusiness="live_business",e.LivePremium="live_premium",e.LivePro="live_pro",e.Plus="plus",e.Potus="potus",e.Pro="pro",e.Producer="producer",e.Sponsor="sponsor",e.Staff="staff",e.Support="support"}(a||(a={})),function(e){e.Owner="Owner",e.Admin="Admin",e.Contributor="Contributor",e.ContributorPlus="Contributor Plus",e.Uploader="Uploader",e.Viewer="Viewer"}(n||(n={}))}}]);